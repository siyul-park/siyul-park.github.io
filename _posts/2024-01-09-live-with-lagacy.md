---
layout: single
title:  "레거시와 함께 살기"
date:   2024-01-09 12:00:00 +0900
categories: pattern
---

새로운 프로젝트를 만나는건 설렘과 기대로 넘쳐나는 순간이죠. 카페에서 테이크 아웃한 음료를 한 모금씩 즐기며, 팀원들과 인사를 나누며 목표를 공유하고 비전에 공감합니다. 그러나 코드를 살펴보니 처음의 희망은 금새 갑갑함으로 변해버립니다.

"이것보다 더 잘 작성할 수 있을 거야..."

코드는 복잡하고 이해하기 어렵습니다. 프로젝트는 예상치 못한 어려움에 부딪히고 기존 코드는 더러움과 답답함을 자아내기 시작합니다. 선물 같았던 프로젝트는 곧 버려야 할 더럽고 답답한 쓰레기로 보이기 시작합니다. 이 코드로 지금까지 운영을 해왔다니, 정말 놀라운 일입니다.

더 이상 이 더러운 코드와 공존할 수 없습니다. 그래서 개선해서 새로운 서비스를 만들자고 제안합니다. 새로운 아이디어와 열정을 담아 기존 구조를 깔끔하게 교체합니다. 많은 고비를 거쳐 새로운 서비스가 완성되었습니다. 이제는 예전의 폐기물 같던 서비스와 작별할 시간입니다.

더럽고 꼴보기 싫은 기존 서비스를 시원하게 날려버리고, 우아하게 새 서비스를 배포합니다. 서비스는 어떤 버그도 없이 원활하게 동작하기 시작하죠. 마침내, 우리는 기존 서비스와 작별했습니다!

몇 달 후, 새로운 구성원이 합류하고 프로젝트를 살펴보며 조심스럽게 말합니다.

"새롭게 짜보는 것은 어떨까요?"

우리는 지금까지 무었을 한걸까요.

사실, 이런 상황은 매우 긍정적인 경우입니다. 우리는 최소한 새로운 서비스를 도입하여 기존 서비스를 대체했습니다. 그 효과에 대해서는 정확히 알 수 없지만요. 

현실적으로는 많은 반대에 직면하면서 기존 서비스를 바꾸는 것을 포기하는 경우도 많고, 새로운 서비스를 개발하는 중에 끊임없는 요구사항에 쓸려 지연되어 결국 기존 서비스를 계속 사용하는 결정을 내릴 때도 있습니다. 심지어, 새로운 서비스가 출시된 후 여러 버그와 기능 부족으로 인해 기존 서비스를 완전히 대체하지 못하고 새 서비스가 종료될 수 있습니다.

이런 고난 속에서 우리가 한 일들이 어떤 가치를 창출해냈는지 의문이 들기도 합니다. 성공적으로 기존 서비스를 바꾸려면 어떻게 해야 할까요?

### 정말 바꿔야 할까요?

기존 서비스가 조직에게 제공하는 가치와 안정성을 고려해보며 정말로 바꿔야 하는지 다시 한 번 신중히 고민해봅시다. 바꾸는 것이 더 효율적이고 품질이 좋은 코드를 작성할 수 있을까요?

기존 서비스는 현재까지 문제 없이 운영되어 온 것이기 때문에, 변경 시에 많은 위험을 감수해야 합니다. 또한, 기존에 서비스는 여러 동료들이 심혈을 기울여 작성한 코드일 수 있습니다. 이러한 코드를 변경하려는 것은 동료들에 대한 도전으로 받아들여질 수 있으며, 많은 반대에 직면할 수 있습니다.

기존 서비스를 바꾸는 결정을 내리기 전에, 기존 서비스를 충분히 이해해야 합니다. 기존 서비스가 보기에 더럽고 복잡할 수 있습니다. 그리고 코드는 의도를 드러내지 못했을 것이고, 개선의 여지가 있을 것입니다. 하지만, 완전히 새로 구축할 정도로 잘못된 것일까요? 적어도 기존 서비스는 조금 복잡하고 때로는 이상하게 동작할 수 있지만, 여전히 빌드되어 정상적으로 가동되고 있습니다. 더불어 사용자 수는 적지만 여전히 서비스를 활용하고 있습니다. 그리고 여전히 조직에게 가치를 제공하고 있습니다.

처음에는 이렇게 끔찍한 모습이 아니었을 겁니다. 수많은 요구사항, 버그, 그리고 시간을 만나면서 이렇게 변해간 것이겠죠. 코드가 직접적으로 의도를 드러내지 못하니, 여기까지 오게된 역사와 도메인 지식을 살펴보며 왜 이렇게 변했고, 아직까지 어떤 가치를 제공하고 있는지를 알아야 합니다. 그래야 새로운 서비스에서는 최소한 현재 제공하던 가치 이상을 제공할 수 있을 것입니다.

새로운 서비스를 만들어 기존 서비스를 대체하는 것은 여러 어려움을 가지고 있습니다. 다양한 비즈니스 요구사항과 경쟁을 하며, 새 서비스를 만들기 위해 충분한 자원을 얻어내야 합니다. 그리고 최소한 고객과 동료들에게 기존 서비스가 제공하던 것만큼의 가치를 여전히 제공할 수 있어야 하고, 기존 서비스 사용자들이 불편함을 느끼지 않게 자연스럽게, 이전되어야 합니다.

기존 서비스를 천천히 살펴보며 어떻게 개선할지 다시 고민을 해봅시다. 서비스를 완전히 새로 만들어 대체하는 것이 적절할지, 기존 서비스를 점진적으로 개선하는 것이 더 좋을지 고민해 보세요. 쓰레기통을 뒤지는 것 같더라도 기존 서비스를 조금씩 바꾸는 것이 더 좋을 수 있습니다. 물론 기존 서비스를 점진적으로 개선하기는 어렵고 힘든 일이지만, 더 위험부담이 적습니다. 기존 서비스가 재활용하지 못할 정도로 망가졌다고요? 알겠습니다. 기존 서비스를 완전히 대체해 봅시다.

기존 서비스를 대체하는 것은 많은 자원이 들어가야 하는 일입니다. 성공적으로 이를 이뤄내려면 동료들 간의 공감과 협력이 필수입니다. 다른 동료들을 설득하고 협력을 이끌어내기 위해서는 먼저 신뢰를 쌓아야 합니다.

### 신뢰 자산

### 점진적인 대체

### 폐기 계획

### 그리고 그 전에
